
.play-page {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 12px;
  height: 100%;
  min-height: 0;
  overflow: hidden; /* Changed to hidden to prevent scrollbars on play-page */
}

.play-header {
  padding: 12px;
  border-bottom: 1px solid var(--border);
}

.play-main {
  display: flex;
  gap: 16px;
  flex: 1;
  min-height: 0;
  overflow: hidden; /* Changed to hidden to prevent scrollbars on play-main */
  padding: 12px;
}

/* Slightly denser spacing on Play page */
.play-page .card { padding: 14px; }
.play-page .row { gap: 10px; }
.play-page .space { height: 12px; }

.left-panel {
  width: 220px; /* Further reduced width to create more space in the center panel */
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto; /* Allow vertical scroll for left panel */
}

.center-panel {
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto; /* Allow vertical scroll for center panel */
  min-height: 0;
}

.right-panel {
  width: 280px; /* Reduced width to create more space in the center panel */
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 16px;
  overflow-y: auto; /* Allow vertical scroll for right panel */
}

/* Responsive containment to avoid elements going off-screen */
@media (max-width: 1000px) {
  .play-main { flex-direction: column; overflow-y: auto; } /* Allow vertical scroll for main content on small screens */
  .left-panel, .right-panel { width: 100%; flex-shrink: 1; }
  .play-page .row { flex-wrap: wrap; }
}

.waveform-viewer .tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  transition: all 0.2s ease-in-out;
}

.waveform-viewer .tab {
  padding: 8px 12px;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease-in-out;
}

.waveform-viewer .tab.active {
  border-bottom: 2px solid var(--primary);
}

.waveform-display {
  height: 220px;
  background: #0b1220;
  border: 1px solid var(--border);
  border-radius: 8px;
  transition: all 0.2s ease-in-out;
}

.master-controls .row {
  display: flex;
  align-items: center;
  gap: 8px;
}

.effects-panel .tabs {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  transition: all 0.2s ease-in-out;
}

.effects-panel .tab {
  padding: 8px 12px;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease-in-out;
}

.effects-panel .tab.active {
  border-bottom: 2px solid var(--primary);
}

.keyboard-dock {
  border-top: 1px solid var(--border);
  padding: 8px 12px;
  background: var(--card);
  flex-shrink: 0; /* Prevent keyboard dock from shrinking */
  transition: all 0.2s ease-in-out;
}

.keyboard-resize-handle {
  height: 6px;
  border-radius: 4px;
  background: var(--border);
  cursor: ns-resize;
}

.card.collapsible .btn-icon {
  background: transparent;
  border: none;
  color: var(--text);
  cursor: pointer;
  font-size: 16px;
}

/* Compact mode densifies further */
.play-page.compact .card { padding: 10px; }
.play-page.compact .row { gap: 8px; }
.play-page.compact .space { height: 8px; }
.play-page.compact .title { font-size: 22px; }

/* Sticky headers inside scrollable right panel */
.right-panel .card.collapsible .row.header,
.right-panel .tabs.header {
  position: sticky;
  top: 0;
  background: var(--card);
  z-index: 5;
  padding: 8px 0;
  border-bottom: 1px solid var(--border);
}
